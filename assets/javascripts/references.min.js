!function(o){let e=[];const t=2*Math.PI*25,n=o("#toc > li"),i=o("#references > h2"),a=o("#top-container"),r=o("#top-wrap"),s=o("#top"),c=o("html, body"),l=o("#references > ul > li a"),d=o("#toggle-dark-mode"),f=o("#toggle-link-target"),h=o(".circle_progress > .bar");function u(){e=[],i.each((function(){e.push(Math.floor(o(this).offset().top))}))}function w(){if(!e)return;const t=o(window).scrollTop()+Math.floor(.3*o(window).height());let i=e.length-1;for(;i>0&&!(e[i]<t);i--);n.eq(i).is(".focus")||n.removeClass("focus").eq(i).addClass("focus")}function p(){let e=o(window).scrollTop()/(o(document).height()-o(window).height()),n=t*(1-e),i=360*e;h.css("stroke-dashoffset",n),r.css("transform",`rotate(${i}deg)`),s.css("transform",`rotate(${-i}deg)`)}function g(){d.is(":checked")?(c.addClass("dark-mode"),o.cookie("dark-mode","true",{expires:7})):(c.removeClass("dark-mode"),o.cookie("dark-mode","false",{expires:7}))}function k(){f.is(":checked")?(l.attr("target","_blank"),o.cookie("target-blank","true",{expires:7})):(l.removeAttr("target"),o.cookie("target-blank","false",{expires:7}))}o((function(){h.css("stroke-dasharray",t),"false"!==o.cookie("dark-mode")&&(d.prop("checked",!0),g()),"true"===o.cookie("target-blank")&&(f.prop("checked",!0),k()),o(window).on("resize",(function(){u(),p()})).on("scroll",(function(){w(),p();const e=o(window).scrollTop();e>300&&!a.is(".on")?a.addClass("on"):e<300&&a.is(".on")&&a.removeClass("on")})),s.on("click",(function(e){e.preventDefault(),c.animate({scrollTop:0},(function(){r.data("ready","yes")})),o(window).width()>=1024&&r.data("ready","no").stop(!0).css({right:10,bottom:10})})),a.on("mousemove",(function(e){o(window).width()<1024||"no"!=r.data("ready")&&r.stop(!0).animate({right:o(window).width()-e.originalEvent.clientX-40,bottom:o(window).height()-e.originalEvent.clientY-40},80,"linear")})).on("mouseleave",(function(){o(window).width()<1024||r.stop(!0).animate({right:10,bottom:10},80,"linear")})),o("#toc > li > a").on("click",(function(e){e.preventDefault();const t=o(o(this).attr("href"));o("html, body").animate({scrollTop:t.offset().top-20})})),d.on("change",g),f.on("change",k)})),o(window).on("load",(function(){u(),w(),p()}))}(jQuery);