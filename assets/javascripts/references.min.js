!function(o){o(window).on("load",(function(){const t=o("#toc > li"),n=o("#references > h2"),e=o("#top-container"),i=o("#references > ul > li a"),s=o("#top-wrap"),a=o("#top"),c=o("html, body");let r=[];const l=2*Math.PI*20,f=o(".circle_progress > .bar");function h(){r=[],n.each((function(){r.push(Math.floor(o(this).offset().top))}))}function d(){if(!r)return;const n=o(window).scrollTop()+Math.floor(.3*o(window).height());let e=r.length-1;for(;e>0&&!(r[e]<n);e--);t.eq(e).is(".focus")||t.removeClass("focus").eq(e).addClass("focus")}function u(){let t=o(window).scrollTop()/(o(document).height()-o(window).height()),n=l*(1-t),e=360*t;f.css("stroke-dashoffset",n),s.css("transform",`rotate(${e}deg)`),a.css("transform",`rotate(${-e}deg)`)}f.css("stroke-dasharray",l),h(),d(),u(),o(window).on("resize",(function(){h(),u()})).on("scroll",(function(){d(),u();const t=o(window).scrollTop();t>300&&!e.is(".on")?e.addClass("on"):t<300&&e.is(".on")&&e.removeClass("on")})),a.on("click",(function(o){o.preventDefault(),s.data("ready","no").stop(!0).css({right:10,bottom:10}),c.animate({scrollTop:0},(function(){s.data("ready","yes")}))})),e.on("mousemove",(function(t){"no"!=s.data("ready")&&s.stop(!0).animate({right:o(window).width()-t.originalEvent.clientX-40,bottom:o(window).height()-t.originalEvent.clientY-40},80,"linear")})).on("mouseleave",(function(){s.stop(!0).animate({right:10,bottom:10},80,"linear")})),o("#toc > li > a").on("click",(function(t){t.preventDefault();const n=o(o(this).attr("href"));o("html, body").animate({scrollTop:n.offset().top-20})})),o("#switch-link input[type=checkbox]").on("change",(function(){o(this).is(":checked")?i.attr("target","_blank"):i.removeAttr("target")}))}))}(jQuery);