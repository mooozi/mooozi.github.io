!function(o){o(window).on("load",(function(){const t=o("#toc > li"),n=o("#references > h2"),e=o("#top-container"),i=o("#top"),s=o("html, body");let a=[];function c(){a=[],n.each((function(){a.push(Math.floor(o(this).offset().top))}))}function l(){if(!a)return;const n=o(window).scrollTop()+Math.floor(.3*o(window).height());let e=a.length-1;for(;e>0&&!(a[e]<n);e--);t.eq(e).is(".focus")||t.removeClass("focus").eq(e).addClass("focus")}c(),l(),o(window).on("resize",c).on("scroll",(function(){l();const t=o(window).scrollTop();t>300&&!e.is(".on")?e.addClass("on"):t<300&&e.is(".on")&&e.removeClass("on")})),i.on("click",(function(t){t.preventDefault(),o(this).data("ready","no").stop(!0).css({right:0,bottom:0}),s.animate({scrollTop:0},(function(){i.data("ready","yes")}))})),e.on("mousemove",(function(t){"no"!=i.data("ready")&&i.stop(!0).animate({right:o(window).width()-t.originalEvent.clientX-40,bottom:o(window).height()-t.originalEvent.clientY-40},100,"linear")})).on("mouseleave",(function(){i.stop(!0).animate({right:0,bottom:0},100,"linear")})),o("#toc > li > a").on("click",(function(t){t.preventDefault();const n=o(o(this).attr("href"));o("html, body").animate({scrollTop:n.offset().top-20})}))}))}(jQuery);